version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: df1i36.h84q3478ejxdnz3e
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEFvL2U0d1pZOWpkS0F1MjFBR2xrYjJNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5UQXhNRFl5TURVMU5UQmFGdzB6TlRBeE1EUXlNRFUxTlRCYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBd1I1QTlKVlRPYlJvSHlYU2VIMnJiMStPN3VjUWs1clN6TWFWCmRzdHg4QStqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVOCs1NWxlKzErYVBjSENyagpPZlFQNWYvMDBVc3dCUVlESzJWd0EwRUEzQTc1WExDZmxJNitFRHoxSFZZaUlMUGJiSHRzYXVxSkozaG9mM1pVCkxza1puc0hleHVoMjBPOG1OeFZtRHZJS3FhSEJ5ZlN0dEkzUTBLcTZ0VXFUQmc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJTXAwaml6cHdMcWZpMzZueHdtd0tyQkFIUU9jS1RVeGJDcFlGRkdwL1U0MgotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.2.101
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.0
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.2.0/24
    disableManifestsDirectory: true
  network:
    hostname: odin
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:c2:a0:f3
        addresses:
          - 192.168.2.102/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.2.254
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.2.101
    nameservers:
      - 192.168.2.111
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.9.0
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.grpc.v1.cri"]
          enable_unprivileged_ports = true
          enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "2500000"
    net.core.wmem_max: "2500000"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: gavHWiQ0U2LvjUe-tjqWl0qIb3PZX2T5dQTvmTGk42E=
  secret: cwoT+h0qil4nnmAtcnKimiB/ymBHN5uua3ae+8mAtnQ=
  controlPlane:
    endpoint: https://192.168.2.101:6443
  clusterName: valhalla
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: nbzvyf.2st1es1cflieamx6
  secretboxEncryptionSecret: FtAP8sr1L+eocgcZrQ0aeD9/WBfDO9H2nHuNnCiz6j8=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpekNDQVRDZ0F3SUJBZ0lSQUlEbjlSeVliZHFqdWtFOU1BQ0t5N1V3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOVEF4TURZeU1EVTFORGxhRncwek5UQXhNRFF5TURVMQpORGxhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVJlZDZoSHhvazdDc2t1TTJUMzBnOXkvWHBVbWRNTFIxM2x3cngxOHlZOTlQTWxkdERyUkFkb05qclMKSTRZOThWbE42dzNRcGFmNVpHanNtQ2NsWDhzbm8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGSnh0Y2FRWU45cFdGZXA5bXpTWkc0T0tnK3pwTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFDSkVYRm8KT3hUSEsvY3ArRGN0ZHJjTTE1MmhKTExwaHgzeXRiaEQvM3RpWGdJaEFQUzh3NnNocE5tbFZBZlVmYWdUU29SYgpjaGMwUW8yMWhpczZ5NU95MlFYNwotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSVAzVzN0Y0lDbHVaK0lvQjlYa2VLNmx3Rk0xQXVBall5VEcwNFVNSEphTzhvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFWG5lb1I4YUpPd3JKTGpOazk5SVBjdjE2VkpuVEMwZGQ1Y0s4ZGZNbVBmVHpKWGJRNjBRSAphRFk2MGlPR1BmRlpUZXNOMEtXbitXUm83SmduSlYvTEp3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZVENDQVFhZ0F3SUJBZ0lSQU1ITjR3UHdqY3B3M3RwQ096RkFheXd3Q2dZSUtvWkl6ajBFQXdJd0FEQWUKRncweU5UQXhNRFl5TURVMU5EbGFGdzB6TlRBeE1EUXlNRFUxTkRsYU1BQXdXVEFUQmdjcWhrak9QUUlCQmdncQpoa2pPUFFNQkJ3TkNBQVFkK2ZHdVdBaGl2WVpUb1prRjdNeFZyK01MWGdKUDVTU1Y3SGVTR1dDTC9GekM1QmN1CktyZEJYdzltdDFYRDlqN0VPZi8xYjUva1FGaDBrNmZ0MFlTb28yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXcKSFFZRFZSMGxCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4dwpIUVlEVlIwT0JCWUVGQ1pndzhqZ2xSQUVyWXVMdExjeXFVeTBQQ2FSTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDCklRRHQyVlpESm9oZGZpbENZK25GemVINFRSRlZoNHlReFNaeWhhcnhCZ3NYa1FJaEFJdFo0YzA4S3RYdGpCbkoKWW42bVJRYVBCWWIrODl1WEZ0VHZXNzBEckd2eAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUNUVllCSTVYV3JsZGVGM1o3U1lqaDN1SU5nZU45TU1MeFBDdUtCN214THNvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFSGZueHJsZ0lZcjJHVTZHWkJlek1WYS9qQzE0Q1QrVWtsZXgza2hsZ2kveGN3dVFYTGlxMwpRVjhQWnJkVncvWSt4RG4vOVcrZjVFQllkSk9uN2RHRXFBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKSndJQkFBS0NBZ0VBdzRMTUdBWmI3QWxnb3dIUS9TZkwzYUxkYmlsc1UvQlJGbkgrRzhxMjYzYzVSMGgzCkxiMkFpRE1NcWVrNkJMMTlPTHM5aXlIVmNGcmJvZ3M3R0dUOFE4THdHNmx2SFB4THJ2L1AyY05nRngxNVMwWjkKTVlrVGU2ME85VEZkcVNuOHRhNGR1U0NwVlBrWEhWd0kzMUpIMExDcWlMSEtXK3hIeXJTdFFDc0VzUlFkQ25uSAphdFYvR0ZxMWV0QXQzYjh6U3Bva0IzM0JQT2ZsK0ltdUpEYnJwOCt5Mm9FMHhuS2ZyZTg5OEdHMER0VFBMMTNGClFmbGZGOThiTjBCdlVUcVhLSGdtaFRDQjVFbDVIYXdkakc1RThkNXlzZlFiMkpVOEY2b2NtNXdsMFR1YW54NVAKWVUxSXhBS2F4QUdXSWNYMjdzQlZUNFJ0WmpUMVVPUzFveFlOWS9HdjhMWm5DL0ozZWd3YnZteTJnbS8xMVJ5NgpFTnBBVDgzaWdvNHVJSXJRYTFKemVEZmlidHhnNmhGNnFnODBBcjl2Z01xSVBic2w0TGkwM0loMVhFeTNZcHR0CjZiY3gyUXM3MGZ3dUVKM0RVT294amc2UG8rOWlPbVFwclVDYjVtblpYK3Q0YmxRQmEvdklnUmRqMjhYaURiV2gKSjZYWnpWR3VjQ1hCRm5MVzJQaklmc0JtOExIc2h5MzVhendIOExKVllKNm9RcEZuTGhBVTNYWUkyWEVQR1U1LwpXWThteTl1eS9DSk1kZjRnTDk2YWRCeEJMWVBYdmJQRjJxaWxEaGVudDIxSTdqdm95V3J6Z3JJemNlVklpa0g5Cm5LU1hzMWFxSnVjSTZFUlFJM1ZmQ1dFbnduNjAvS05DTUJlRDV5dWdCWnNzUkQ3d2hNWFBuZFZWQktjQ0F3RUEKQVFLQ0FnQkRCVmwxZXVpVDkzcjdKaXBBUGg0eXNodjZJWlVUQ1RTaTN4emU1aFRpanhKQmoyUGJlRFRSZTc2QgptSVBkRUNBWERJakNZeXpKd1R1OVJ1QlJNbjBQdFltZDBlMVhJRjNKZGNRSXdHTDJTWkpFN2JzSStoYUZ0UU9GCnBoQ1hadDlNWUkycjRyaHBlcUlqM0dMbU8weUhDNmpLQnpoNVhud1Z6dTM5SzBJR2VnQ2lrTEI5dlFZK2tRbloKT2ZnZkplWXRVcjI3RzY3Y2RCcHZvckxoa3pvaFlwL0xLN090dTZsbGRMZms2WGxTQkQycDNSazd6b0o4cW15bgoraHl1MmNqcmhKU2YzOHNIT1BDZDdWeUx3Vms5R0taMHZsdTFXU01xY1pRdys4d3k5NTIvb2lKUUZyQTFFVGVBCnJaS0xyVk5DOFFmTnBIWGtMWTlTMWJRMlhkN2twQjBmb0t4dzhiQVZRWTQ5alM0M1JYQ0pLaDhyLzUyakZZSUUKQzY5QXpodGdSMW5TWXN5Wk41S1orVVhhYU9pR21rSHE2K2dOVXhRSHR2M1NNU1Irc0FiR0dXTFdDNGM1MkJpVAowOFRRZ3FKR0h5NnRvT2U2aktSV3lwVFlNYm5aalNMNmlweXNJQVpWZHJBMloxZEVEa1VVbHA1ZlNZcjhnc1FjCk1NM0FGTW1tM0tuRjJhU2pKbUt1eGw4Snc0c0JZUi91Ny9GQVVSUlk3QXB5OS9WRUp6Q0xzRTNOM3lrbDF3alkKTVg0bnVObklFQXdEcG9yZzRSTkRsNFA4OGM4Q1UzQmhZL3Q2MnFTZFBwSUc3TXhRdi9LUEo4ckZQNWpUYTFGSwpXZVZ4c3RUTTRUQ2tudnFWY2s1QTA3QndJZjhyRTI1Y255dWFmSGRDTUJ1RmxVMGJVUUtDQVFFQXpxWWdzRlJxCkY4SUNYMWNwYTVoRVc4Z0I0UzVBSEg0YVFwRS9lVE5oSi9UR1NCeTBLeUtsYWlmc3k4KzFPUHZzall0aUlsbmEKMDdQQVVMdFJhb2F4dkp0Tjg2Z3M3WEJSMUJNby9pZ0dMRlFyL2V2OFdNb0RFczJ6L05pQkQvNVE0U1JXMTlvOQpRdzNzL0tGV2l0bHFrRVJUVFp4eWRiWHo2YmtpT3R2YkZLT2F1L1NGTURmUDd2YVVTeS90NmM5ZllWMU5SRTlpCjFpVEhYaEZ1ZktqdTJHVVEyUndDQ1VhUHdnRG1aZHpEeEg0Q3loaFB2YnhmVllKcmNSeTY5cGV6cVFaTTNKOFIKUXFncjk4a2duWW1sNVFSNXg1c0t0R2N5NU1yZ2hiam00U1BVK3c3cURYQisyUjhNbjA1WW0vTXFvSW54SVBKeQpheHZFd20rOEozZ2gyd0tDQVFFQThqTzU4VW1iSnhFQkRweHZybE1pQnp5S1kyYnF3aWxIdzE1SHZBbkN1SVlFCnJvUlRkY3pCRkk3TWdNT2tQaUY4RHFiZW5udit1cXU3RENMcXBEK3A4UkNBZnV3TnpXa2lDUjVFemJPVldybjAKaGUrQlFxckQ0cmt0Z3hvcjZQREduTWQwRkkrd1Z5T2NrUU04bW85MmdJT09NbmxIbDRqOW1YTjFlSGV4YjlIagpaS0tKbWtaR0NNcUxIR3pTNmV6WlNSMUVwaXJWMEdhaklVZ0ZGbEMyMWNkc0VGMmtjM015TDBVY3FRK1RzcWR1CkgremUvWGtUUERYMFp2NGdELzQ0R3ZYZDFTN2crN2hEaDZPbmlRUE11akhNQ1NSMG1uUGhVczBqU3ZVMjlxb0sKMEh6Rkpyek1JRDZ2UHpjQmdLSDU3c2F0MWk1UWlmNlA3dnNWdnJKZ0pRS0NBUUFDYnlxTGFUTW12SDVTcVRBdgp1RWQxM1ZGSVdjY2Zqc3k0WkFXZlk5K05IUEVKQUcyTzVJV1dUb29YakliUitRVzhWUnYrMDVna1RrWEJyYk16CjBncGQ4bVprckdKN0dZdWROK3lQc2VFQXZLMFgvS09vV0JqWks5c202MVg1M2tFTnBlUHYvdjRod0JRK2xaZnoKWXNSQ2xzdDBhcGRlazVvZjhySlloeVo1ZzhQYTJ2S0dzdUdjS3dOc0wxQmFKTHMyNW1aMm00aktoUHhrTzBoVgo1NWVJclFnWnhwNnZoVWxFTzhaN0JMSzVxZEpXbHhxNVhYS3lDeXRBMWRuTjlkT0Q5ak1KbGtZWnh1bGRyZHpZCmZqcWFEQWR6Tm54Vnk3RnB5SW9FaVQwUEFlRU1aQXlWdy9GNmxVY015VnQ1MnM5eHZLNCtlUnluN2xmUEFvbncKM1JWcEFvSUJBRi9sRXczeHNyaDVCdzRkNmluL1NFM05MbzNFeGRZeU9mT2tkSXFDNHRIa1hoNHF6bENwelJpeQpvVTJxS0hGaEdKbEVnSWdIV0FmWXpxb3plT3VuT1VYMDNxdGlFdVR0WjBoczc1anlMWVJLZEFKRG5jNGpob05TCkJpOE9RYXh0Q0hZeWtrZEJ6UFB6YVo0UXhnSDhJMU1td3pwQXdwUEE3WWZBS3hhVGJYRjBqSy9mbXRPMlZ5eEwKNVdCUHhnSlFnSWR1U3l2dmNkQ2RrcUV1dnJUaktFRGtRR2tLYW40N2NmYzlTZWUxL3lpUkdnMFI0QWhEMDlYWApGdmxnVEptSWNmWmF1b1labFlLVXBrZ2lCOGM3OWVjU3FGSkdXTlIrWlF3L3BHV2RTVEhJaVplYWp3U1RZODZ3Cmd2cG9jUFBaTGZmWU9pTy9HcXhJV2Z5bzlTY1h3UEVDZ2dFQUNibHc1alVKUGZyMlpwVHdMWVdnb0I4eEx1eG0KOFZwQUswNWd2aXp2Ymlmb3FlU2dEdkl6YTVqTzRWNlQxeG9mTTJzMXNrWnpzRWs3L1FuRHdraTZnaVI5Qkh1Rwp4UC9TMzI1NFJpNjFuRzBaenVUck9xbXY1RHZnL1hCUlk3QjhFRWpaVWlFN29Ja3I2SHRMb0dUUEdDWUtrSEk4CklVVC9PZ0cvUTZCUklJd00yNlBRR1ExdTl1NWlRaG5ZUWFDRmxlUnVtSVByTkVmU3BoN3kyUEFnM28yczQ0WnkKRWVWMW1iWk1kbjZmbkh2Wk02ckxUdXFVUDRKQlVwODdyTDI2N0c5KzdydlRicUZPRHR0S2RlY0thYkxNQ1VuOApKQjlGaGt6YTVKZ0IraGVodDlUR3E0Nit3TTJaZzdYcnJpdEhnWUlXNUhEalZJZHdwN1c2TjNBT3NRPT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.32.0
    certSANs:
      - 192.168.2.101
      - 192.168.2.101
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.32.0
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.32.0
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.32.1
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmRENDQVNPZ0F3SUJBZ0lRRjlGN21TQm16WkxmYUVrUkl1Z3p6akFLQmdncWhrak9QUVFEQWpBUE1RMHcKQ3dZRFZRUUtFd1JsZEdOa01CNFhEVEkxTURFd05qSXdOVFUwT1ZvWERUTTFNREV3TkRJd05UVTBPVm93RHpFTgpNQXNHQTFVRUNoTUVaWFJqWkRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQlBmelpTeUQ4N3FFCmN3S1Eyd2tNcXhmazdLQm1XWjF1dnFSR3JjSXFzOFc1QmpYWkFCYjNOS04zaGtCTlJCZm9CZ21mY0l5dXZlSC8KZTdXazdBZEhYUXlqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjRApBUVlJS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVVnlYcXpkamZ2WDMvCkhjYWVLKzZUaDVQMUk2VXdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdLREJ1ajJWcWdXakd2ZklqeEZ6eDAyWUgKYVBpZWQvTlRGcDA2dWY5WVlnVUNJSGYxWDdvbjV5a05lcUhIeWZKanZIVXVjSVBTOWFEbUNheHBRbzRmN1N3QQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU4wTHl1RXlGWTNTc1FjZkRUZHlaSjFoN0hLU0U3OWpmL3BpUHZIK0t0MTlvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFOS9ObExJUHp1b1J6QXBEYkNReXJGK1Rzb0daWm5XNitwRWF0d2lxenhia0dOZGtBRnZjMApvM2VHUUUxRUYrZ0dDWjl3aks2OTRmOTd0YVRzQjBkZERBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.2.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
