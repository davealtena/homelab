version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: trpa0m.7zy69k52ttiufzcj
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEFOYmVweVkvTEJCcExtUzc0YWhSRlBNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5UQXhNakl4TkRBd01qQmFGdzB6TlRBeE1qQXhOREF3TWpCYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBcVZNZjUvTmZsSjE4Q1ppNEdXU3hWMFlTUGR4RWxXTnRjeTgvCllCMktmckNqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVZ1hKUjJoSGE0T3NGNHZlTwo1VjY2KzRmeURud3dCUVlESzJWd0EwRUFtMmh4clFSTFNabTlrRXc0QjB0c3B2OXQ0azBEcW4xRDloeXF1ODRZCkY2aHE1dXlhRGNDV3pTNmNUM1ZMcUFISUFuVEFRWC8zV2czME9pN1JEbTdOQ0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJTzJZNjBBRzBVS1o5R3VvZWJ6T1lSOENiWGI3aU80dmZGZDRsOTFxQkRtcgotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.2.101
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.32.1
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.2.0/24
    disableManifestsDirectory: true
  network:
    hostname: frigg
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:15:57:6f
        addresses:
          - 192.168.2.104/24
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.2.254
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.2.101
    nameservers:
      - 192.168.2.111
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.9.2
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.grpc.v1.cri"]
          enable_unprivileged_ports = true
          enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  time:
    disabled: false
    servers:
      - time.cloudflare.com
  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "2500000"
    net.core.wmem_max: "2500000"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: 7GrJVuy2GAyvZq9riG_dHJy89XZvqqh_MynA4giDAkM=
  secret: BJxYBx4L8OCo+0slu0QbkHq+vBEI+bF4M01BJaSEWcA=
  controlPlane:
    endpoint: https://192.168.2.101:6443
  clusterName: valhalla
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: vhqz3c.3fu3cwpx1amva7qo
  secretboxEncryptionSecret: /tYqCkmpyEE2/fvmt/Vgk6N15ZhB5KGmaed7MuZsQVM=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpRENDQVMrZ0F3SUJBZ0lRZEpuenBUL3dNL2d5TUxDRStKOGxSakFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTFNREV5TWpFME1EQXhPRm9YRFRNMU1ERXlNREUwTURBeApPRm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCQ1E3aG0xdDlIZG14RTVHTFZrc0l3dHJOQXlUcjd6UEJIVUtWYU1pem5kclNwQjljbU1pUXBWNkk5c0UKL0d6VVpGWDdOYU5VYW03QzNiYnJWaHdqSXZPallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVjZDZlTmNISGxoZUpaWkxtRGdaR1ZPZGpPNlF3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnTEkyODJ5akIKUFNaRjVqQTk5NTN5RUN0OFhLTWIza296V2lleDJDWGJWSFFDSUFPSWVPTTN2Ris3ZG95clZjK3hQRElMYjByZAp1YmhxMGU2QWtIdXJ3K1hnCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUVSYlJYTU1yd2VsVkVudkpacURRT2xPQ3FyRk44QVp4cStmY0xzWTZjdTBvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFSkR1R2JXMzBkMmJFVGtZdFdTd2pDMnMwREpPdnZNOEVkUXBWb3lMT2QydEtrSDF5WXlKQwpsWG9qMndUOGJOUmtWZnMxbzFScWJzTGR0dXRXSENNaTh3PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJZRENDQVFXZ0F3SUJBZ0lRVVVXeXlkNmIwTnlsb0NVSnROaEo4VEFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJMU1ERXlNakUwTURBeE9Gb1hEVE0xTURFeU1ERTBNREF4T0Zvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCRVp0VFlCRG8vY0dJWUtoUVIyc2pydDhjQzdsZmtFM1NIdDBrOVBVK29tK056Y0tGeTZMCi81Wnh2VVhjTUY1ckdJaWZNd2FRQkhUVlBxMUdaRVZvbXBtallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVVzcXd1dloveWM5c0NPWnlGMlRtRDJjb2drNmt3Q2dZSUtvWkl6ajBFQXdJRFNRQXdSZ0loCkFMamtoaHJlYXhuN1pQSlhEVjNCQnRQd1hiOWdaNlV1cXgxVndXZUVBT01UQWlFQXZmSy9XeS9nWDVoQ0tUVlAKdnJsN2hPallSZkZrbk94Wjg4VFpMNW92Y1gwPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUtPQmlFcmMwRG9EWkxyOEpJWkdlVGFoSFhlRGtnZ09rZmNnRTByelAwU2xvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFUm0xTmdFT2o5d1loZ3FGQkhheU91M3h3THVWK1FUZEllM1NUMDlUNmliNDNOd29YTG92Lwpsbkc5UmR3d1htc1lpSjh6QnBBRWROVStyVVprUldpYW1RPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBd0NrSzU4Y0xiZ043WHRWQTYxL29Oa3pFVGJZem42YXo2Wml1UzJEZXprdlU4YStVCnlhRDY4cTZ6eWtqOHhENEptMEEzREJ4UWJ1VTg3Y09KMUpvTCtWT2ZuYUF6UXNNcGx2NjFsbXhtOVN4NHJuZC8KemtwMTlnb2YvNG5mUHhWZSsvcHJJYVdOWWJKRHdYSWpwSC9vZzFwRng1MFA5RjRVK09SMDNuWXhaUjZncUdSWQpSTUFibmpiZllKRFpsZjlEdzRaVERzWjUwM3RzNENrSGhKRzYzanByTG9IWWxvSG9ITjlJK0ZjME9rWkYwRS9rCmo4bkJEb3BrVVpxc2p6cTJqcVRWOTFRZCtRWm4vbEpWY0RCcnpOQjJqTnBLckVtbjdhdU9iU2JDNERZOURBT2oKWWxZZ01VdkQ1QUdFakd4UVIxVTZva0s1VXNYL0RaV3ZLUHd3M0N2b0F3KzNNVkNRbnVOUnNGYmxkMkU0RkZ0bwpRbFI5VnU2K011OG9wS1IyaG9NcFZhak1pNmhMNTNTWVdvM002STZsSXAvdm8wODZvaGsvYThlTDQ0VGJkM2UwCnpwLy92VGVhU1Jjd25DWUFnUmNMWHc1ZUtDczh6dkx0UVpJMzJSR0lsNis3bW95Nml5NXhITkJXYWxkbDdzUWcKQVFibll1RU9KZzMvUW56ZVVldmVXMVo0UzlIK05nUTNSS0xlUG93YjduWCtRaHFwR3ZDVjhoRjF5WnZlbkYyYQpCSGJVSVZkY1liTG9ZcmxxSHBRN1g3d1FTZlVhLzJsNWxDS2dBOWg5WThteFFUa1hCSEtPZ1BBd3d1UUc1aW1GClo5a21kWWtST2JyZk9jSjAvN0ZOK3ZLdU1EdjdFTXJ6akN1MXp6cmtNMTlvbEdYK0tFcGhzeHZudHFFQ0F3RUEKQVFLQ0FnQWVKUkloNUJiRjdtUG5MNXNja1pJVEdwM2M5dzFJS1ZXbCtwNjFFb0JCYXFJQVBDUWlNVS9NekYxRwpDWWNsbmZuUjBoUVFvVXg0NlJ0U3pVOE0vQkdPem5DR3dML3A1RVhjK3g0dmQ5ZjY5RHdHV3BiQkhPcythcjQwClQwT25XTW5xeTVFTTJUVEJzNzV2VldHRUI5REk4bHRxQWhpanBESzBETnJNbjB3R2FmU1lGZzNHMDBCQjVLZk0KTlV6OCsrdDhlOUVCeTE4SEx5Q1lWYmRwTTVkV0QySUxETEdXZ3RDUDN2TktpaHVXWExuTkFRdUJCd3h6SklDeQpVSXByZWJGejFTWC93OEZqOUg1UjVrYWk3K1dwWHJhS1NDQll3TUZJUnBaMFJ4VmhLUUVRcG0xMkdyNjRIUU9nCi9CLzRDM0hZanVWQTJTakxkR1lia25URkFETUZ3WUNxeWRBOXhkU3pBNGRHcTB1UXBaVm9NNGdJblZuRC9mMW4KMGlvQk95S3FKcnBOdWZUYzdJeUhqd0IzWndESGVtWGlHTzNXUm5FOGZnVitPYlEvVFpScU41QTVKckpFb3BwRQprT2pldUJ2MWEzdnhIbUg4UGpQdEZLM2M4YTAyT0t1Z2E4c0swS1NzYlpGaWFwSnkxamE2cjk4dHBDTnJ4MEFtClgzVlJkeEhtMTBBVFB6K1REQjZsUTBwdFIybXcyMHgwQVlmSVE0MTJESlFYRlhvK21ZUTlZNFA3Vm1jUFY4L1YKd2F2WUV1c2RDWHQ3MmJRZUhicVRhc2srRUpoNjlBYTVoeWxYdXZHUVNteVNzZzcxWWsxRVJyS0xXVzB2dFZPMgo3NmxBcWx2eHVhbHJtUW1IVlN0NzFOUG1TZWhVUndlZElaYmRMZWtjZi84SzJFS2pNUUtDQVFFQTJsT0hkV1FJCnNINEEyMUt4dDUxTjZ0R0wwS0YxbmxnK2NtT2Y4dTc1amtsckhtRjZuMkdjcnJqemNLek1OczBrV2J4aDUxZzkKcERleFRvV0JRTkU3NWZZcEZWUTkzdncvcUdxOFlpTmFVVW9GbDRVcFN1TURyQUd5d2I3TGpDajIvSXFYaDEwNwp0a293UFZYSUZaZ0NNK3VRNk1FTGF0RVFHTmpJcHZWdXR3U1ZJeFQrd2FaZHo2OXgwMmFQVDdKb1cxK0xMTjNUCkpwNXhHZ3FtL084Y3AxT3lnVi9ScUR0SEhneFNnczRQUm5jZlIxd1VrbUtvQlcvTTBCZ0cyTk9LRUhtTmJBbkkKYlp6NGJhUmlGbnhDbzd3aXVqbFNGbkxjTzdYcjVDc3E3R0Nlck1LZjQxWGFnWEN0MnBjN3VKa0xVZmRIZmZFYQorVG04Z0Zrb0x3UWNoUUtDQVFFQTRWR2twc1kxV1BoNTBnNEhqQlB5amJzVFEyR3RCMXczWktPSmFNdC80WkNBCmVxZ2ZEdFRRQTNrYW4xamlGNzl2M1d6cFNjL0VMcjhLQW0yM0RXMlFNWjJHRDlpOXpQU1JJbGxVQVR4Z3RUSnkKcGNNWjVGOHArR3FjNHY3MTdFNnVKSlZrWlZhREFDODlPdEQ2cENtZUIvKzEwSkZMaUdPM01ER2pvWS9SVXExeApLSWZEQ2JzOCtibUhncDdYL1hjVUpJQ0xlYU5EeEpCSjBrNitnUHZPQVA4czVlRWlQUjZmaVh5OXdGWFlFdTNSCnNXZ2N5elVSM2V3b3JnZ3AzWXNtQjJ0UEtQZm5DOVl5ZHk5M0FiUWQwRkwzVSsrdHh4SVhsVzY0UU5MZ1cyZlIKV2xLQWVVU09DU2ZJQUdEUmZPSCs5dVd5UWFHOFl5eGsvUjJEUDU3cWJRS0NBUUVBcmt2QStKYkQyU0srekZsWQpSNTN0ZG1tVGxSdFJLdmlINGdwbXh5ckJVRGFNcmRSa2NKa2MzT0FLZVFsNmZzV0hINXlsREd3RnlmUXNPT09jCkxJTGRydGkyTTdEdE0vZHRXcWJiZmYxN1BTbzdESnZpTzBiQXg3RVRaRmxOWnJmTmRnK3VxUUpsaVVIeEFRWmEKbGVLazM0NVFRWURiL0lxcXJ5dGlCT2dyV3pEdFh2U0Q3VlZEejJuaEZVUHJaVlNvdTBtcmNrWWxLOCtSdTVpRgpkNmZzMkNpWmVXOWxrVWpCbmR0NGc3Uzl2U09jZFB1dDhLK1NNOFR0WGJQUXc0a2R6OGs2ZmVYUmZMQzBJOVAzCitydDQ5LzVhT3hGSDEyUWJMaEF1SWhuVVNxRllDOVBVa1VrWkIvMU16aFd1TjlEMm1Ka3hHZnBCN25XSloyM0cKQnNMaGdRS0NBUUVBeWpSNHJPcG42Y1pqbk96V1BSR1J0VHZUMTc2S2gzWnNoN1p6bEVZOEozT0V1WTZ6QUo1ZgpaeDZCazhzeWE5bHpUS1YyM3JURC9LZVpGZ0RjTEFMTlNwbHhQRHRvYWN4NWl2ZmJlWmh6dVdqaWxudjJlb29rCm9qa2JQbU5NMDVyd2tRZzRwdkR5YzNIeFl4MDBNYXJmbFpJWDJtcnAvQ1p3dWFGeWxZVDVkMWNMbkRIcUNJdXQKOXZaVzlCUVZCZlNkY1B5akxyQWtHdnphSXhCanltRXZ5SmszODcwTSt3akdaNTQ0czZqV1ZuWnludUV1SmZjawpaNktPQjFCd01jKzBleWdFVEdIZFNUUWE2ZmNBdDlpcWdOQlVBVkd4QkZ2cUtrTEl1L1FEUUVSMURyZkhjQXpqCjRyZCt0MGdyK0FUZ3lUWHR1UlNxZWQzWGE0Zld4M3VZS1FLQ0FRQmpOUUxsa0xDMFdDUWdYYU4vS3NSZ3hPL1MKV2htRGU1d3Y2NUpVVU1CVGROOUFUYmNxYVdXYURFOEdhOUdiM0N0OHBVbWRwVFgwaUZ5UDlESDhyUGdOR3F5UApBNG9GZWx2YTFON042WkJRMVBOdFhBb056WGI1Qysya0tKUndhYlBRRGkyNjFBZ3FFYXY3RlhrTVdYanhxZTYyCmZPcFlmcThYN0kwK3B4V2hidXlvazNOR3ZxbHNOQ1ljaUJLOWF0bTF5NUY5YjgvVDZkT2Ezb0lod21MT2d6MHYKbWNpUXlBRDJqa1VpUlVSeVFVMmUrbGI2Vk1VQXpBS2dBSWJWOGp1ang0OEdKaDdWcVZLTldiekZ1VlhjNGZZKwpwekxCMGQrWmVTQTFadndUSVFLTFNrempVL3BCalVlSmxXbEZBbTJIL1VCT29MVGZETGhYZEprUWwvdWQKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.32.1
    certSANs:
      - 192.168.2.101
      - 192.168.2.101
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.32.1
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.32.1
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.32.1
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmRENDQVNPZ0F3SUJBZ0lRVjZmRXJNWjZ0aHFZWWhCV29tc09TVEFLQmdncWhrak9QUVFEQWpBUE1RMHcKQ3dZRFZRUUtFd1JsZEdOa01CNFhEVEkxTURFeU1qRTBNREF4T0ZvWERUTTFNREV5TURFME1EQXhPRm93RHpFTgpNQXNHQTFVRUNoTUVaWFJqWkRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkFrc3RYTFExMEhsCkxxZTh0NHF5WlNneUErUmE4TEkxMTZsRGU0eFF4b1dYMFZMNXlGLzNrR0ZDN3FDR2N0L2V2VFl3YjlPRy9uTFEKOFYreHYvQ3haVG1qWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjRApBUVlJS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVS3ZielJGazlSb1lkCjdvNndlS0M3bHJURUJxNHdDZ1lJS29aSXpqMEVBd0lEUndBd1JBSWdXN2JGU3lqZ3p5OGtpQTIvWlFQd1B0bVMKRVdpMGtVL2FlMGRsbkJHdHFPNENJRlplYk1kS0ZYZmtMZXlPUWwxbzh4bmVpUk1oVkpqOWVMZE5Rb3BUaUpkbAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUs1NkJsS3c5dENqYTQ4TU52R0IyZ3BpSWFKcjNHZG5oNjRrcmFuekEyYXVvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFQ1N5MWN0RFhRZVV1cDd5M2lySmxLRElENUZyd3NqWFhxVU43akZER2haZlJVdm5JWC9lUQpZVUx1b0laeTM5NjlOakJ2MDRiK2N0RHhYN0cvOExGbE9RPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.2.0/24
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
